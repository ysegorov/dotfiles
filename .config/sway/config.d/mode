#
# Resizing containers:
#
set $mode_resize "  Resize window: [Ctrl+]h/j/k/l or [Ctrl+]Left/Up/Down/Right"
mode $mode_resize {
    bindsym --to-code {
        h            exec swaymsg resize grow   left 10 || swaymsg resize shrink right 10
        Ctrl+h       exec swaymsg resize grow   left 1  || swaymsg resize shrink right 1
        j            exec swaymsg resize shrink up   10 || swaymsg resize grow   down  10
        Ctrl+j       exec swaymsg resize shrink up   1  || swaymsg resize grow   down  1
        k            exec swaymsg resize grow   up   10 || swaymsg resize shrink down  10
        Ctrl+k       exec swaymsg resize grow   up   1  || swaymsg resize shrink down  1
        l            exec swaymsg resize shrink left 10 || swaymsg resize grow   right 10
        Ctrl+l       exec swaymsg resize shrink left 1  || swaymsg resize grow   right 1

        Left         exec swaymsg resize grow   left 10 || swaymsg resize shrink right 10
        Ctrl+Left    exec swaymsg resize grow   left 1  || swaymsg resize shrink right 1
        Up           exec swaymsg resize shrink up   10 || swaymsg resize grow   down  10
        Ctrl+Up      exec swaymsg resize shrink up   1  || swaymsg resize grow   down  1
        Down         exec swaymsg resize grow   up   10 || swaymsg resize shrink down  10
        Ctrl+Down    exec swaymsg resize grow   up   1  || swaymsg resize shrink down  1
        Right        exec swaymsg resize shrink left 10 || swaymsg resize grow   right 10
        Ctrl+Right   exec swaymsg resize shrink left 1  || swaymsg resize grow   right 1

        # back to normal: Enter or Escape
        Return mode default
        Escape mode default
    }
}
bindsym $mod+r mode $mode_resize

#
# System exit

# https://github.com/maximbaz/dotfiles/blob/master/.config/sway/config
set $mode_system "  System exit: (l)ock, (e)xit, (r)eboot, (s)hutdown"
mode $mode_system {
    bindsym --to-code {
        e exec swaymsg exit, mode "default"
        l exec $lock, mode "default"
        # s exec sway-exit suspend, mode "default"
        r exec systemctl -i reboot, mode "default"
        s exec systemctl -i poweroff, mode "default"

        # back to normal: Enter or Escape
        Return mode default
        Escape mode default
    }
}
bindsym $mod+q mode $mode_system

